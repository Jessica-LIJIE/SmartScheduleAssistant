# 智能日程助手（Smart Schedule Assistant）需求分析

## 1. 项目背景与目标

随着学习和工作任务的增多，用户需要高效的任务管理方式与智能辅助工具。本项目打造一个轻量级的智能日程助手系统，包含：

- 用户注册与登录
- 任务管理
- 利用 LLM 自动分类任务
- 多轮对话智能助手（前端维护上下文）

系统前后端分离，使用 Docker 容器化部署.


## 2. 用户角色分析
```
用户角色	描述	     核心需求
普通用户	使用系统管理个人任务，并与 AI 助手聊天	登录注册、创建任务、查看任务、AI 分类、与 AI 对话
```

## 3. 系统总体需求（Functional Requirements）

系统分为四大核心模块：

- 用户认证模块

- 任务管理模块（简化）

- AI 任务分类模块

- AI 多轮对话模块（前端维护上下文）


### 3.1 用户认证模块（必须）
```
编号	功能	描述
F0-1	用户注册	用户通过邮箱 + 密码注册账号，密码加密存储
F0-2	用户登录	输入邮箱与密码，后台验证信息并返回 JWT Token
F0-3	Token 鉴权	所有任务相关接口均需携带 Token
```


### 3.2 任务管理模块（简化但完整）
```
编号	功能	描述
F1-1	创建任务	用户输入任务内容并保存到数据库
F1-2	查看任务列表	展示当前用户的全部任务
F1-3	删除任务（可选）	用户可删除某个任务
```

### 3.3 AI 任务分类模块（单功能，不复杂）

```
编号	功能	描述
F2-1	AI 分类任务	后端调用 LLM 模型，根据任务内容返回类别（学习/工作/生活等）
F2-2	更新任务	后端将分类结果写入数据库
F2-3	前端展示分类结果	在任务列表中展示 category 字段
```

示例 Prompt：

请为下面的任务进行分类（学习/工作/生活/其他），只返回分类名称。
任务：完成强化学习课程作业


该模块作为智能体能力的核心示例。

### 3.4 AI 多轮对话模块（前端维护上下文 · B方案）

设计思路

- 前端维护 messages 数组（包含历史所有对话）

- 每次发送消息时，将完整对话历史一起发送给后端

- 后端只负责将 messages 原样发送给 LLM（无需数据库存储上下文）

- 模型自动处理多轮对话上下文


多轮对话功能需求
```
编号	功能	描述
F3-1	用户输入消息	用户在聊天界面输入内容
F3-2	前端维护历史上下文	前端将用户与 AI 的最新对话追加到 messages 数组中
F3-3	后端调用 LLM 聊天接口	后端接受 messages 数组并调用 LLM API 返回聊天回复
F3-4	前端展示回复	AI 回复加入 messages 并在页面显示
```


## 4. 非功能需求（NFR）
### 4.1 性能需求

普通 CRUD 请求需在 1 秒内完成

AI 调用响应时间 ≤ 3 秒（取决于外部 LLM 服务）

### 4.2 安全性

密码加盐加密存储

JWT Token 校验

用户只能操作自己的任务和对话

### 4.3 易用性

UI 简洁，用户无需培训即可使用

对话界面类似主流聊天窗口

### 4.4 可部署性

后端提供 Dockerfile

前端提供 Dockerfile

docker-compose 管理服务，启动命令统一为：

docker compose up -d --build

## 5. 系统架构设计

```
┌────────┐       ┌────────────────┐       ┌───────────┐
│ 前端Vue3 │ <--> │  后端 SpringBoot │ <--> │  MySQL 数据库│
└────────┘       └────────────────┘       └───────────┘
                         │
                         ▼
                ┌────────────────┐
                │   LLM API      │
                └────────────────┘
```

系统共 4 大模块：

Authentication（JWT）

Task Service

AI Classification

Chat Conversation（多轮对话）

## 6. 用例分析（Use Case）
主要用例列表
```
用例编号	名称	参与者	描述
UC01	用户注册	用户	新用户创建账号
UC02	用户登录	用户	登录获取 Token
UC03	创建任务	用户	创建一个任务
UC04	查看任务列表	用户	查看所有任务
UC05	AI 分类任务	用户	调用 AI 获取分类
UC06	多轮对话	用户	与 AI 智能助手进行对话
```

## 7. 数据需求分析
数据表：
```
表：users
字段	类型	描述
id	int	主键
email	varchar(100)	唯一邮箱
password_hash	varchar(200)	加密后的密码
created_at	datetime	注册时间
```
```
表：tasks
字段	类型	描述
id	int	主键
user_id	int	用户ID
content	varchar(200)	任务内容
category	varchar(50)	AI 分类结果
created_at	datetime	创建时间
```


## 8. 系统功能流程
多轮对话流程
```
用户输入消息 → 前端将用户消息加入 messages → 
messages 发给后端 → 后端发送给 LLM → 
AI 回复 → 前端加入 messages → 显示在对话窗口
```

LLM 自动处理上下文，不需要人工维护。

## 9. 接口需求概述

后端提供以下 API：

```
类型	URL	描述
POST	/auth/register	注册
POST	/auth/login	登录
POST	/tasks	创建任务
GET	/tasks	获取任务列表
POST	/tasks/{id}/classify	AI 分类任务
POST	/chat	多轮对话（前端 messages）
```

## 10. 约束与边界定义

本系统不包含：

- 任务优先级排序

- 日程自动规划

- 对话长期存储

- 日历功能

- AI Agent 自主执行“任务”

将复杂性保持在一个可控、安全、容易完成的范围内。